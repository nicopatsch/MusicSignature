<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->
    <script type="text/javascript" src="music-info.json"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/1.4/rgbcolor.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js"></script>
    
    <script src='jquery-1.8.1.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@rgrove/parse-xml/dist/umd/parse-xml.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="utils.js"></script>
    <script src="MusicXMLReader.js"></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link href="css/animate.min.css" rel="stylesheet">
    <link href="css/bootstrap-dropdownhover.min.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="grid/simple-grid.min.css">
    <link rel="stylesheet" type="text/css" href="simple-grid.min.css">
  </head>
   

  <body>
    <canvas style="display:none;" width="5000" height="5000" id="canvas"></canvas>
    <div id="png-container"></div>

    <div id="header-row" class="row content-row">
      <div class="col-1">
        <h2 id="logo">MOTIF</h2>
      </div>

      <div class="col-5 content-col">

        <div class="flex-container">

          <div id="song-selector">
            <div id="music-menu" class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" data-hover="dropdown" data-animations="{bottom} {left} {top} {right}">
               Select your song
              </button>
              <ul id="genre-ul" class="dropdown-menu"></ul>
            </div>
          </div>

          <div class="container-vertical">
            <div id="song-info" class="flex-container" >
              <h2><span id="song-name"></span> <span id="artist"></span></h2>
            </div>

            <div class="parameters">
              <span>Number of notes in a repetition: </span><input type="number" id="nbNotesInRep" name="nbNotesInRep" min="1" max="50" value="2">
            </div>
          </div>

        </div>
        <!-- Max number of instruments to be displayed : <input type="number" id="maxNbParts" name="maxNbParts" min="1" max="50" value="5"> -->
        
        <!-- Space between notes : <input type="number" id="spaceBetweenNotes" name="spaceBetweenNotes" min="0" max="50" value="0"> <br> -->
        
        <!-- Color squares :<input type="checkbox" id="squaresAreColored" name="squaresAreColored"> <br> -->

        <!-- Real duration :<input type="checkbox" id="realDuration" name="realDuration" checked> <br> -->

        <!-- Full square :<input type="checkbox" id="fullSquare" name="fullSquare" checked> <br> -->


      </div>
      <div class="col-5 content-col">
        <div id="description">
          <button id="description-toggler">What is MOTIF?</button>
          <div id="description-content">
            <p>
              This project aims at showing the repetition in music. Select a song, and you will see, for each instrument playing in the song, the pattern that create the notes, the <em>signature</em> of the instrument. On a <em>signature</em>, each column and each rown corresponds to a note. When a pixel is lit up, it means that the two corresponding notes (the one of the row and the one of the column) are the same.
            </p>
            <p>
              You can modify the <em>number of notes in a repetition</em> in order to select melodies that are longer or shorter. If you select 5, for instance, you will only see the notes that belong to a melody of 5 notes or more and that is repeted at least twice across the song.
            <!-- </p>
            <p>
              This project was largely inspired by the work <a href="https://colinmorris.github.io/SongSim/">SongSim</a> by <strong>Colin Morris</strong>, a tool that shows the repetition in the lyrics of songs. -->
              <button id="description-less"><span class="caret caret-up"></span> Less</button>
            </p>
          </div>
          <br/>
          <br/>
          <p class="signature">
              <strong>Sixtine Philippe</strong> x <strong>Nicolas Patschkowski</strong>
            </p>
        </div>
        <div id="custom-file">
          Or upload your own MusicXML file:
          <input type="file" name="file" id="file-uploader" accept='text/xml' onclick="this.value = null;" onchange='readMusicXMLFile(event)' class="inputfile"/>
          <label for="file-uploader">Choose a file</label>
        </div>
      </div>

      <div class="col-1">
      </div>
    </div>
    <div id="matrixRowContainer">
    </div>


    <script src="script.js"></script>
  </body>

  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="js/bootstrap-dropdownhover.min.js"></script>
</html>
